#include "engine/ui/fanUIScaler.hpp"
#include "engine/fanEngineSerializable.hpp"

namespace fan
{
    //==================================================================================================================================================================================================
    //==================================================================================================================================================================================================
    void UIScaler::SetInfo( EcsComponentInfo& _info )
    {
        _info.load = &UIScaler::Load;
        _info.save = &UIScaler::Save;
    }

    //==================================================================================================================================================================================================
    //==================================================================================================================================================================================================
    void UIScaler::Init( EcsWorld& /*_world*/, EcsEntity /*_entity*/, EcsComponent& _component )
    {
        UIScaler& scaler = static_cast<UIScaler&>( _component );
        scaler.mScaleDirection  = HorizontalVertical;
        scaler.mAdditionalScale = { 0, 0 };
    }

    //==================================================================================================================================================================================================
    //==================================================================================================================================================================================================
    void UIScaler::Save( const EcsComponent& _component, Json& _json )
    {
        const UIScaler& scaler = static_cast<const UIScaler&>( _component );
        Serializable::SaveInt( _json, "scale_direction", scaler.mScaleDirection );
        Serializable::SaveInt2( _json, "add_scale", scaler.mAdditionalScale );
    }

    //==================================================================================================================================================================================================
    //==================================================================================================================================================================================================
    void UIScaler::Load( EcsComponent& _component, const Json& _json )
    {
        UIScaler& scaler = static_cast<UIScaler&>( _component );
        Serializable::LoadInt( _json, "scale_direction", (int&)scaler.mScaleDirection );
        Serializable::LoadInt2( _json, "add_scale", scaler.mAdditionalScale );
    }
}