#pragma once

#include "core/fanHash.hpp"
#include <string>

namespace fan
{
    //==================================================================================================================================================================================================
    //==================================================================================================================================================================================================
    #define FAN_RESOURCE( _ResourceType )                               \
    public:                                                             \
    template <class T> struct fanResourceInfo                           \
    {                                                                   \
        static constexpr const char* sName{ #_ResourceType };           \
        static constexpr uint32_t    sType{ SSID( #_ResourceType ) };   \
    };                                                                  \
    using Info = fanResourceInfo< _ResourceType >

    //==================================================================================================================================================================================================
    // Base class for resources ( Mesh, textures etc.)
    //==================================================================================================================================================================================================
    struct Resource
    {
        uint32_t    mGUID;
        std::string mPath;
        uint32_t    mType;
        bool        mIsDirty = false;
        bool        mIsGenerated = false;
    };

    //==================================================================================================================================================================================================
    //==================================================================================================================================================================================================
    struct ResourceHandle
    {
        Resource *  mResource;
        int16_t     mRefCount = 0;
    };
}